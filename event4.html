<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baby Shower Menu</title>
    <style>
        /* Add your CSS styling here */
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2; /* Professional background color */
            margin: 0;
            padding: 0;
        }
        .container {
            width: 80%; /* Adjust the size as needed */
            max-width: 800px; /* Set maximum width if necessary */
            margin: 20px auto; /* Center the container */
            background-color: #ffffff; /* Classic color for the container */
            padding: 20px; /* Add padding for content */
            border-radius: 10px; /* Add rounded corners for a classic look */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Add shadow for depth */
            text-align: left; /* Left align text within the container */
        }
        h1, h2 {
            color: #333; /* Text color */
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .price {
            color: #4CAF50; /* Green color for price */
        }
        .total {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Baby Shower Menu</h1>

        <form id="orderForm" onsubmit="submitOrder(event)">
            <label for="numberOfPeople">Number of People:</label>
            <select id="numberOfPeople" name="numberOfPeople" onchange="updateTotalAmount()">
                <option value="30">30</option>
                <option value="40">40</option>
                <option value="50">50</option>
                <option value="60">60</option>
                <option value="70">70</option>
                <option value="80">80</option>
                <option value="90">90</option>
                <option value="100">100</option>
            </select>

            <!-- Starter -->
            <h2>Starter</h2>
            <select id="starter" onchange="selectOnlyOne(this)">
                <option value="">Select Starter</option>
                <option value="Baby Corn Manchurian">Baby Corn Manchurian</option>
                <option value="Gobi Manchurian">Gobi Manchurian</option>
                <option value="Veg Manchurian">Veg Manchurian</option>
                <option value="Veg Roll">Veg Roll</option>
                <option value="Cheese balls">Cheese balls</option>
                <option value="Mini samosa">Mini samosa</option>
                <option value="French fries">French fries</option>
            </select>

            <!-- Indian Bread -->
            <h2>Indian Bread</h2>
            <select id="indianBread" onchange="selectOnlyOne(this)">
                <option value="">Select Indian Bread</option>
                <option value="Chapathi">Chapathi</option>
                <option value="Methi Chapathi">Methi Chapathi</option>
                <option value="Ghee Chapathi">Ghee Chapathi</option>
                <option value="Poori">Poori</option>
                <option value="Palak Poori">Palak Poori</option>
                <option value="Methi Poori">Methi Poori</option>
                <option value="Battura">Battura</option>
                <option value="Parotta">Parotta</option>
                <option value="Akki rotti">Akki rotti</option>
            </select>

            <!-- Veg gravy -->
            <h2>Veg gravy</h2>
            <select id="vegGravy" onchange="selectOnlyOne(this)">
                <option value="">Select Veg Gravy</option>
                <option value="Paneer curry">Paneer curry</option>
                <option value="Aloo masala">Aloo masala</option>
                <option value="Channa masala">Channa masala</option>
                <option value="Guttivankaya curry">Guttivankaya curry</option>
                <option value="Bhindi masala">Bhindi masala</option>
                <option value="Mix veg kurma">Mix veg kurma</option>
                <option value="Curry">Curry</option>
            </select>

            <!-- Dry veg -->
            <h2>Dry veg</h2>
            <select id="dryVeg" onchange="selectOnlyOne(this)">
                <option value="">Select Dry Veg</option>
                <option value="Bendi">Bendi</option>
                <option value="Brinjal">Brinjal</option>
                <option value="Beans">Beans</option>
                <option value="Cabbage">Cabbage</option>
                <option value="Aloo jeera">Aloo jeera</option>
                <option value="Aloo matar">Aloo matar</option>
                <option value="Aviyal">Aviyal</option>
                <option value="Yam">Yam</option>
            </select>

            <!-- White rice -->
            <h2>White rice</h2>
            <select id="rice" onchange="selectOnlyOne(this)">
                <option value="">Select White Rice</option>
                <option value="Sambar & Rasam">Sambar & Rasam</option>
                <option value="Andhra pappu & Rasam">Andhra pappu & Rasam</option>
                <option value="Sambar & Pappu">Sambar & Pappu</option>
                <option value="Dhal fry & Sambar">Dhal fry & Sambar</option>
            </select>

            <!-- Bhajji -->
            <h2>Bhajji</h2>
            <select id="bajji" onchange="selectOnlyOne(this)">
                <option value="">Select Bhajji</option>
                <option value="Chilli bhajji">Chilli bhajji</option>
                <option value="Masala vada">Masala vada</option>
                <option value="Banana bhajji">Banana bhajji</option>
                <option value="Pakoda">Pakoda</option>
                <option value="Aloo bonda">Aloo bonda</option>
                <option value="Mysore bonda">Mysore bonda</option>
            </select>

            <!-- Extras -->
            <h2>Extras</h2>
            <select id="extras" onchange="selectOnly
One(this)">
                <option value="">Select Extras</option>
                <option value="Salt, Papad, Pickle & Kosambri">Salt, Papad, Pickle & Kosambri</option>
                <option value="Podi">Podi</option>
                <option value="Pachadi Obbattu+Ghee/Milk">Pachadi Obbattu+Ghee/Milk</option>
                <option value="Payasam">Payasam</option>
                <option value="Jamoon">Jamoon</option>
                <option value="Carrot Halwa">Carrot Halwa</option>
                <option value="Rasgullah">Rasgullah</option>
                <option value="Ladoo">Ladoo</option>
                <option value="Jangiri">Jangiri</option>
                <option value="Mysorepak">Mysorepak</option>
                <option value="Jalebi">Jalebi</option>
                <option value="Rasmalai">Rasmalai</option>
            </select>

            <!-- Sweet -->
            <h2>Sweet</h2>
            <select id="sweet" onchange="selectOnlyOne(this)">
                <option value="">Select Sweet</option>
                <option value="Vanilla">Vanilla</option>
                <option value="Chocolate">Chocolate</option>
                <option value="Butterscotch">Butterscotch</option>
            </select>

            <!-- Ice Cream -->
            <h2>Ice Cream</h2>
            <select id="iceCream" onchange="selectOnlyOne(this)">
                <option value="">Select Ice Cream</option>
                <option value="Vanilla">Vanilla</option>
                <option value="Chocolate">Chocolate</option>
                <option value="Butterscotch">Butterscotch</option>
            </select>

            <!-- Selected Items -->
            <h2>Selected Items</h2>
            <table id="selectedItems">
                <tr>
                    <th>Category</th>
                    <th>Item</th>
                    <th>Action</th>
                </tr>
            </table>

            <!-- Add-Ons (Additional Charges) -->
            <h2>Add-Ons (Additional Charges)</h2>
            <table id="addOns">
                <tr>
                    <th>Category</th>
                    <th>Item</th>
                    <th>Price</th>
                </tr>
            </table>

            <!-- Total Amount -->
            <h2>Total Amount</h2>
            <p id="totalAmount" class="total">Total: Rs. 0</p>

            <!-- Submit Order Button -->
            <button type="submit" id="submitButton">Submit Order</button>
        </form>
    </div>

    <script>
        const orderOptions = {
            "Buffet Inclusion": ["Buffet tables", "Table & Chairs", "Leaf service (Paper Leaf & Serving set)", "Mineral water can with dispenser & Paper cups", "2-way transportation up to 20km from Kanagar Bargare", "Tissues", "Disposable Spoons", "Bowls", "Paper cups for sweet & water", "Live cooking for Poori, Chapathi, and Roti (for 100 & above)"],
            "Leaf Service Inclusion": ["Het challing cutter", "Paper Leaf & Servingst"],
            "Timing": ["Lunch (12:30 pm - 3:00 pm)", "Dinner (7:30 pm - 10:00 pm)"],
            "Price": {
                "30": 12600,
                "40": 16000,
                "50": 20000,
                "60": 23000,
                "70": 20000,
                "80": 29000,
                "90": 37000,
                "100": 35000
            }
        };

        let previousSelectedOption = null; // Variable to store the previously selected option

        function selectOnlyOne(select) {
            const options = select && select.options;
            const selectedOption = options && options[select.selectedIndex];

            // Disable all options except the selected one
            for (let i = 0; i < options.length; i++) {
                if (options[i] !== selectedOption) {
                    options[i].disabled = true;
                }
            }

            // Enable all options
            for (let i = 0; i < options.length; i++) {
                options[i].disabled = false;
            }

            // Disable the selected option
            selectedOption.disabled = true;
        }

        function generateSelectedItems(category, item) {
            const selectedItemsTable = document.getElementById("selectedItems");
            const row = selectedItemsTable.insertRow();
            const cell1 = row.insertCell(0);
            const cell2 = row.insertCell(1);
            const cell3 = row.insertCell(2);

            cell1.textContent = category;
            cell2.textContent = item;

            // Create the "Delete" button for this row
            const deleteButton = document.createElement("button");
            deleteButton.textContent = "Delete";
            deleteButton.addEventListener("click", function() {
                // Delete only this row when the "Delete" button is clicked
                selectedItemsTable.deleteRow(row.rowIndex);

                // Re-enable the corresponding option in the dropdown menu
                const dropdown = document.getElementById("starter"); // Check if this ID is correct
                const options = dropdown.options;
                for (let i = 0; i < options.length; i++) {
                    if (options[i].value === item && options[i].parentNode.label === category) {
                        options[i].disabled = false;
                        break; // Exit loop once found
                    }
                }
                updateTotalAmount();
            });
            cell3.appendChild(deleteButton);

            // Add event listener to the second cell (item) to enforce select only one functionality
            cell2.addEventListener("click", function() {
                // Get all the rows of the table
                const rows = selectedItemsTable.rows;

                // Iterate over each row
                for (let i = 0; i < rows.length; i++) {
                    // Enable all cells in the second column
                    rows[i].cells[1].disabled = false;
                }

                // Disable the clicked cell
                cell2.disabled = true;
            });
        }

        function deleteRow(row) {
            const table = row.parentNode.parentNode; // Navigate up to the table element
            const category = row.cells[0].textContent;
            const item = row.cells[1].textContent;

            // Re-enable the corresponding option in the dropdown menu
            const dropdown = document.getElementById("starter"); // Check if this ID is correct
            const options = dropdown.options;
            for (let i = 0; i < options.length; i++) {
                if (options[i].value === item && options[i].parentNode.label === category) {
                    options[i].disabled = false;
                    break; // Exit loop once found
                }
            }

            // Remove the row from the table
            table.removeChild(row);
            updateTotalAmount();
        }

        function updateTotalAmount() {
            const numberOfPeople = document.getElementById("numberOfPeople").value;
            const totalAmount = orderOptions["Price"][numberOfPeople];
           
            document.getElementById("totalAmount").textContent = `Total: Rs. ${totalAmount}`;
        }

        // Event listener for starter selection
        document.getElementById("starter").addEventListener("change", function() {
            const selectedStarter = this.value;
            if (selectedStarter !== "") {
                generateSelectedItems("Starter", selectedStarter);
            }
        });

        // Event listener for flavored rice selection
        document.getElementById("rice").addEventListener("change", function() {
            const selectedRice = this.value;
            if (selectedRice !== "") {
                generateSelectedItems("White rice", selectedRice);
            }
        });

        // Event listener for Indian bread selection
        document.getElementById("indianBread").addEventListener("change", function() {
            const selectedBread = this.value;
            if (selectedBread !== "") {
                generateSelectedItems("Indian Bread", selectedBread);
            }
        });

        // Event listener for veg gravy selection
        document.getElementById("vegGravy").addEventListener("change", function() {
            const selectedGravy = this.value;
            if (selectedGravy !== "") {
                generateSelectedItems("Veg Gravy", selectedGravy);
            }
        });

        // Event listener for dry veg selection
        document.getElementById("dryVeg").addEventListener("change", function() {
            const selectedDryVeg = this.value;
            if (selectedDryVeg !== "") {
                generateSelectedItems("Dry veg", selectedDryVeg);
            }
        });

        // Event listener for bhajji selection
        document.getElementById("bajji").addEventListener("change", function() {
            const selectedBhajji = this.value;
            if (selectedBhajji !== "") {
                generateSelectedItems("Bhajji", selectedBhajji);
            }
        });

        // Event listener for extras selection
        document.getElementById("extras").addEventListener("change", function() {
            const selectedExtras = this.value;
            if (selectedExtras !== "") {
                generateSelectedItems("Extras", selectedExtras);
            }
        });

        // Event listener for sweet selection
        document.getElementById("sweet").addEventListener("change", function() {
            const selectedSweet = this.value;
            if (selectedSweet !== "") {
                generateSelectedItems("Sweet", selectedSweet);
            }
        });

        // Event listener for ice cream selection
        document.getElementById("iceCream").addEventListener("change", function() {
            const selectedIceCream = this.value;
            if (selectedIceCream !== "") {
                generateSelectedItems("Ice Cream", selectedIceCream);
            }
        });

        function submitOrder(event) {
            event.preventDefault(); // Prevent form submission

            const selectedItemsTable = document.getElementById("selectedItems");
            const rows = selectedItemsTable.rows;
            let selectedItems = "";

            // Get the selected items
            for (let i = 1; i < rows.length; i++) {
                selectedItems += `${rows[i].cells[0].textContent}: ${rows[i].cells[1].textContent}\n`;
            }

            const numberOfPeople = document.getElementById("numberOfPeople").value;
            const totalAmount = orderOptions["Price"][numberOfPeople];

            // Send order via email
            const body = `Customer's Order:\n${selectedItems}\nNumber of People: ${numberOfPeople}\nTotal Cost: Rs. ${totalAmount}`;
            window.open('mailto:aabdula@gitam.in?subject=Catering Order&body=' + encodeURIComponent(body));

            // Display Thank You message with home button
            document.body.innerHTML = `
                <div style="text-align: center; padding-top: 100px;">
                    <h1>Thank You for Your Order! 😊</h1>
                    <button onclick="goToHomePage()">Home</button>
                </div>
            `;
        }
    </script>
</body>
</html>
